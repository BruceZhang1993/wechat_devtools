'use strict';!function(require,directRequire){const a=require('fs'),b=require('path'),c=require('mkdir-p'),d=require('autoprefixer'),e=require('postcss'),f=require('./162bf2ee28b76d3b3d95b685cede4146.js'),g=['iOS >= 8','Chrome >= 37'],{bufToUTF8:h}=require('./efc820e1b92d6e4063535296d4a24213.js'),{FILE_NOT_UTF8:i,POST_WXSS_ERR:j}=require('./949d8235c744ced2a80121e4dba34c28.js');module.exports=function(k,l={}){return new Promise(async(m,n)=>{let o=k.setting.postcss,{distPath:p}=l,q=await f(k),r=q.getAllWXSSFiles();for(let f=0,k=r.length;f<k;f++){let k=r[f],l=q.getFile(k,null),m=h(l);if(void 0===m){let a=new Error(k);return a.code=i,n(a)}if(o)try{m=e([d({browsers:g,remove:!1})]).process(m).css}catch(a){let b=new Error(a.message);return b.code=j,b.parseError=a.parseError,n(b)}let s=b.join(p,k),t=b.dirname(s);c.sync(t),a.writeFileSync(s,m)}m()})}}(require('lazyload'),require);