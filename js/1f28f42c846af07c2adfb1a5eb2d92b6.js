'use strict';!function(require,directRequire){const a=require('fs'),b=require('path'),c=require('mkdir-p'),d=require('autoprefixer'),e=require('postcss'),f=require('./162bf2ee28b76d3b3d95b685cede4146.js'),g=require('./common/locales/index.js'),h=['iOS >= 8','Chrome >= 37'],{bufToUTF8:j}=require('./efc820e1b92d6e4063535296d4a24213.js'),{FILE_NOT_UTF8:i,POST_WXSS_ERR:k}=require('./949d8235c744ced2a80121e4dba34c28.js');module.exports=function(l,m={}){return new Promise(async(n,o)=>{let p=l.setting.postcss,{distPath:q}=m,r=await f(l),s=r.getAllWXSSFiles();for(let f=0,l=s.length;f<l;f++){let l=s[f],m=r.getFile(l,null),n=j(m);if(void 0===n){let a=new Error(g.config.FILE_NOT_UTF8.format(l));return a.code=i,o(a)}if(p)try{n=e([d({browsers:h,remove:!1})]).process(n).css}catch(a){let b=new Error(a.message);return b.code=k,b.parseError=a.parseError,o(b)}let t=b.join(q,l),u=b.dirname(t);c.sync(u),a.writeFileSync(t,n)}n()})}}(require('lazyload'),require);