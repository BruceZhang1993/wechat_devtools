'use strict';var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};!function(require,directRequire){function a(){let a=i.getState();return a.project.current}function b(){let b=a(),c=b&&b.attr||{};return c.setting||(c.setting=_extends({},k.setting)),c.network||(c.network={RequestDomain:[],DownloadDomain:[],WsRequestDomain:[],UploadDomain:[]}),c}function c(){let a=i.getState();return a.project.list}function d(){a();return`http://127.0.0.1:${global.proxyPort}/__pageframe__/`}const e=require('./84858de8a097c9cf84ff2c2e3d86e2a9.js'),f=require('./92320c1386e6db6a6f2556736a9bc280.js'),g=require('querystring'),h=require('path'),i=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),j=require('url'),k=require('./6242f55dbdfe53c2f07b7a51568311f2.js'),l=require('./162bf2ee28b76d3b3d95b685cede4146.js'),{whiteFileExtName:m}=require('./6242f55dbdfe53c2f07b7a51568311f2.js');module.exports={getCurrent:a,getCurrentConfig:b,getProjectByHash:function(a){let b=i.getState();if(b.project.current.hash==a)return b.project.current;const c=b.project.list;for(const b in c)if(c[b].hash===a)return c[b]},getCurrentShareInfo:function(){let b=a(),c=b?b.attr:{share_info:[]};return b.attr.share_info||[]},getProjectList:c,formatAppIDQuery:function(){let c=b()||{},d=a(),e={appid:d.appid,platform:c.platform?1:0,ext_appid:''};return c.platform&&c.extInfo&&(e.ext_appid=c.extInfo.appid||''),g.stringify(e)},getBaseURL:d,getProjectAppID:function(b=null){let d;if(!b)d=a();else{const a=c();d=a[b]}return d?d&&d.attr&&d.attr.platform&&d.attr.extInfo&&d.attr.extInfo.appid?d.attr.extInfo.appid:d.appid:void 0},getShowName:function(){let b=a();return b.attr&&b.attr.appName||b.projectname},getResourceUrl:function(a=''){let b=j.parse(a);return'http:'==b.protocol||'https:'==b.protocol?a:'wxfile:'==b.protocol?a.replace('wxfile://','http://wxfile.open.weixin.qq.com/'):d()+a},getCompileCondiction:function(){let b,c=a();try{let a=c.condiction[c.compileType]||{};b=a.list[a.current]}catch(a){b=void 0}return b},getWeappCodeSize:async function(b){b=b||a();let c=await l(b),d=c.getAllFileInfo(),e=0;for(let a in d){let b=h.extname(a);m[b]&&(e+=d[a].size)}return e=parseInt(e/1024)+1,e},isQcloudProject:function(a){let b=a.attr||{};return b.qcloud&&b.qcloud.qcloud_status&&1===b.qcloud.qcloud_status.open_qc_account},getCurrentDomains:function(){let c=a(),d=b(),e=!1,f=d.qcloud||{},g={};if(f.qcloud_status&&1===f.qcloud_status.open_develop_env&&f.qcloud_dev_info&&f.qcloud_dev_info.networking)for(let a in e=!0,g=f.qcloud_dev_info.networking,g)g[a]=g[a].map((b)=>{return b=b.toLowerCase(),'ws_request_domain'==a?/wss?\:\/\//.test(b)?b:`wss://${b}`:/https?\:\/\//.test(b)?b:`https://${b}`});let h=d.network||{},i=h.RequestDomain||[],j=h.WsRequestDomain||[],k=h.DownloadDomain||[],l=h.UploadDomain||[];return{request:e?i.concat(g.request_domain):i,socket:e?j.concat(g.ws_request_domain):j,download:e?k.concat(g.download_domain):k,upload:e?l.concat(g.upload_domain):l}}}}(require('lazyload'),require);