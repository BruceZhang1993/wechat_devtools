'use strict';var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};!function(require,directRequire){const a=require('./15ba1827c7f6564a45df6bd44da3a977.js'),b=require('./0b01a3ff1572567a994a0ceae64dfef3.js'),c=require('./822bc5aa1823c9aa222d9ffad72e7f17.js');module.exports={batchAddCard:async function(d,e,f,g){let h=e.card_list||[],i=e.appId,j={},k=[];for(let a,b=0,c=h.length;b<c;b++)a=h[b],j[a.card_id]?j[a.card_id]++:(k.push(a),j[a.card_id]=1);let l={url:b.batchGetCardInfoURL,body:JSON.stringify({appid:i,getitem_list:k}),method:'post',needToken:1},{body:m}=await a(l),n=m.json_ret_list.map((a)=>{return a=JSON.parse(a),a.amount=j[a.card_tp_id],a});g({type:c.WEBDEBUGGER_SET_CARD_VIEW,data:{show:'addcard',appid:i,api:d,args:_extends({},e,{cardList:h}),callbackID:f,cardInfo:n}})},chooseCard:async function(d,e,f,g){let h=e.appId,i={appid:h,shop_id:e.location_id||0,sign_type:e.sign_type,card_sign:e.card_sign,time_stamp:e.time_stamp,nonce_str:e.nonce_str,card_tp_id:e.card_id,card_type:e.card_type},j={url:b.chooseCardURL,body:JSON.stringify(i),method:'post',needToken:1},{body:k}=await a(j),l=JSON.parse(k.json_ret);g({type:c.WEBDEBUGGER_SET_CARD_VIEW,data:{show:'choosecard',cardInfo:l.available_cards||[],errData:[],api:d,args:e,callbackID:f}})},batchViewCard:async function(d,e,f,g){let h=e.appId;e.card_list=e.card_list||[];let i=e.card_list.map((a)=>{return{card_tp_id:a.card_id,code:a.code}}),j={url:b.batchViewCardURL,body:JSON.stringify({appid:h,items:i}),method:'post',needToken:1},{body:k}=await a(j),l=k,m=l.json_ret?JSON.parse(l.json_ret):{card_array:[]},n=l.error_json_ret_list.map((a)=>{return JSON.parse(a)});return g({type:c.WEBDEBUGGER_SET_CARD_VIEW,data:{show:'viewcard',cardInfo:m.card_array,errData:n||[],args:{},callbackID:null}}),{errMsg:`${d}:ok`}}}}(require('lazyload'),require);