'use strict';var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};!function(require,directRequire){const a=require('react'),b=require('./d8460cd7eec9b5ac3077a1c3fc6a50d2.js'),c=require('./6893c66b236a52295ea5c35a8052630d.js'),d=require('./48ed383395967d737f11ebc42820b913.js'),e=require('./ca9102c5efe003cb9f99bcd8df78f429.js'),f=require('./c754d906e04f71224e14d49a89769678.js'),g=require('./3708d3f281e2f2a71c7feda26168f3dc.js'),h=require('./aa1f2a2e68329a3bbaa996a52b5ea65b.js'),i=require('./8e89d5836133cac25c6aa23d785c63d9.js'),j=require('./e12e47cfa49959a6d49ea1936dc19380.js'),k=require('./ff946754202ecf377034d29daac7c8d9.js'),l=require('./10279410b7cf7ea9409d42a7eb37225c.js'),m=require('./b6dd6ba0b853899c69527eaf93a58f7b.js'),n=require('./413e1df0d2a135fa20cefc4c23f8e8e1.js'),o=require('./d03a90fbd796428c64e8c47eef5f4e71.js'),p=require('./8e7fed729e9f11f30d63365586719bf0.js'),q=require('./504ae46dc4a72502ee836b22913fbe81.js'),r=require('./6fc2d18cec70b19ca4d1e2defbdf43cd.js'),s=require('./72653d4b93cdd7443296229431a7aa9a.js'),t=require('./3bfffbe88b3d923921f851c0697974fe.js'),u=require('./1dea83a77e99a7c94f6b6f01f5c175b0.js'),v=require('./a1b9e6fb17fda6e4b961ef97ab1371f8.js'),w=require('./9a1630c7db7597f338c9319bfc8571c5.js'),x=require('./1ca0b7713664710bff99ca9c6d29c43c.js'),y=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),z=require('./84eac15ddafa077aa832c98b6c2290bd.js'),A=require('./f094f1d16fffcac4d74949e4fc6b09ac.js'),B=require('./ea653f45dc25181ca4f1b108175009b7.js'),C=require('./dc4889188702c881b1432b490a2a4850.js'),D=require('./03f56b6c971ec6f7813234d685a2fa8c.js'),E=require('classnames'),F=require('./d3fc1d4b6cfd440a6300e62456252a06.js'),G=require('./137588fc97010af6b33c2be1d533447b.js'),H=require('./b6a2a0af8ea41ee5132948d45a0a6677.js'),I=require('./a03c8e76d4fe0178cd6a28a2fbc16ddd.js'),J=require('./195285e5284f78e12cb71042e95b9566.js');class K extends a.Component{constructor(a){super(a),this.onResizeStop=(a,b)=>{this.props.windowActions.setSimulator({width:b})},this.state={simulatorStyle:{}}}componentDidMount(){chrome.fontSettings.setMinimumFontSize({pixelSize:1})}componentWillUnmount(){}componentWillReceiveProps(a){a.vibrate!=this.props.vibrate&&('short'==a.vibrate?this.vibrateAnimation(1):'long'==a.vibrate&&this.vibrateAnimation(3))}async vibrateAnimation(a){if(0>=a)return void this.props.simulatorActions.setVibrate('none');var b=[`translate(1%,5px) scale(${this.props.deviceScale})`,`translate(-1%,5px) scale(${this.props.deviceScale})`];const c=async(a)=>{return 0>=a.length?void this.setState({simulatorStyle:{}}):(this.setState({simulatorStyle:{transition:'all linear 0.05s',transform:a[0]}}),a.splice(0,1),new Promise((b,d)=>{setTimeout(()=>{c(a).then(()=>{b()}).catch((a)=>{d(a)})},50)}))};await c(b),await this.vibrateAnimation(--a)}reLaunch(){}getOptionsComponents(){let b=this.props,c=[];return b.switch.selectorPickerShow&&c.push(a.createElement(o,{key:'selectorpicker'})),b.switch.datePickerShow&&c.push(a.createElement(l,{key:'datepicker'})),b.switch.timePickerShow&&c.push(a.createElement(m,{key:'timepicker'})),b.switch.multiPickerShow&&c.push(a.createElement(n,{key:'multipicker'})),b.switch.paymentShow&&c.push(a.createElement(h,{key:'payment'})),b.switch.confirmShow&&c.push(a.createElement(v,{key:'confirm'})),b.switch.authorizeShow&&c.push(a.createElement(z,{key:'authorize'})),c}getWindowComponents(){let b=this.props,c=[];return b.window.groupShow&&c.push(a.createElement(q,{key:'grouplist'})),b.window.settingShow&&c.push(a.createElement(w,{key:'setting'})),b.window.addCardShow&&c.push(a.createElement(C,{key:'addcard'})),b.window.viewCardShow&&c.push(a.createElement(D,{key:'viewcard'})),b.window.locationShow&&c.push(a.createElement(A,{key:'location'})),b.switch.addPhoneContactShow&&c.push(a.createElement(H,{key:'addPhoneContact'})),b.switch.chooseAddressShow&&c.push(a.createElement(I,{key:'chooseAddress'})),b.switch.chooseInvoiceTitleShow&&c.push(a.createElement(J,{key:'chooseInvoiceTitle'})),c}render(){let h=this.props,k={width:h.width},l=E('simulator-container',{"ui-invisible":!h.show}),m=[],n=h.screenHeight-h.navigationbarHeight-h.statusbarHeight,o=h.navigationbarHeight+h.statusbarHeight;for(let b in h.webviewInfos){let c=h.webviewInfos[b],e=n,f=o;-1!=c.tabbarIndex&&('top'==h.tabbarPosition?(e-=h.tabbarHeight,f+=h.tabbarHeight):e-=h.tabbarHeight),m.push(a.createElement(d,{key:b,show:h.currentWebviewID==b,info:c,top:f,height:e}))}h.standbyWebview&&m.push(a.createElement(d,{key:h.standbyWebview.id,show:!1,info:h.standbyWebview,top:o,height:n,type:'standby'})),0>=m.length&&m.push(a.createElement(d,{key:-1,show:!0,info:{},top:o,height:n,type:'tip'}));let q=_extends({width:h.screenWidth,height:h.screenHeight,transform:`scale(${h.deviceScale})`,transformOrigin:'50% 0',marginLeft:-h.screenWidth/2},this.state.simulatorStyle);return a.createElement(B,{width:h.width,height:'100%',className:l,style:{minWidth:h.shellMinWidth},leftResizable:h.workbenchShow&&'right'===h.position,rightResizable:h.workbenchShow&&'left'===h.position,onResizeStop:this.onResizeStop},a.createElement(x,null),a.createElement('div',{className:'simulator-shell'},a.createElement('div',{className:'simulator',style:q},a.createElement(F,null),a.createElement(b,null),m,a.createElement(c,null),a.createElement(g,null),a.createElement(e,null),a.createElement(f,null),a.createElement(i,null),a.createElement(j,null),this.getOptionsComponents(),a.createElement(p,null)),this.getWindowComponents()),a.createElement(r,null),a.createElement(G,null),a.createElement('div',{className:'ui-divider-vertical',style:{pointerEvents:'none'}}))}}module.exports=K}(require('lazyload'),require);