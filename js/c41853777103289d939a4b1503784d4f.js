'use strict';!function(require,directRequire){function a(a){let c=a.headers.host,d=!a.connection.encrypted||/^http:/.test(a.url)?'http':'https',e='http'==d?a.url:d+'://'+c+a.url,f=b.parse(e);return f.pureHref=f.href.replace(/\?.*/,'').replace(/\#.*/,''),f}const b=require('url'),c=require('path'),d=require('./6242f55dbdfe53c2f07b7a51568311f2.js'),e='https://clients1.google.com/tbproxy/af/',f='http://aboutblank',{weappURLRegular:g,weappASURLRegular:h,weappLocalIdRegular:i,weappEditorServiceRegular:j,weappWidgetPageRegular:k,weappWidgetServiceRegular:l,weappTraceRegular:m}=d,n=require('./3bfffbe88b3d923921f851c0697974fe.js'),o=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),p=require('./730f2a99f4d5cff2946dd0a3bad0a600.js'),q=require('./07af6655c180a0694f993b79d5b077df.js');module.exports={forceLocalProxy:[g,h,i,f,e,j,k,l,m],dealLocalResponse:function(b,d,n){var o=a(b),r=o.pureHref;if(0===r.indexOf(e))n(400,{},'');else if(0===r.indexOf(f))n(200,{},'');else if(g.test(r)){let a=o.href;p.getWebviewSource(a).then((b)=>{const d={};'.svg'===c.extname(a)&&(d['Content-Type']='image/svg+xml'),n(200,d,b)}).catch(()=>{n(404,{},'')})}else h.test(r)?p.getAppServiceSource(r).then((a)=>{n(200,{},a)}).catch(()=>{n(404,{},'')}):j.test(r)?p.getEditorSource(r).then((a)=>{n(200,a.headers||{},a.body)}).catch(()=>{n(404,{},'')}):i.test(r)?p.getLocalIdResponse(r.replace(i,'wxfile://')).then((a)=>{n(200,{},a)}).catch(()=>{n(404,{},'')}):k.test(r)?p.getWidgetWebviewResource(r).then((a)=>{n(200,{},a)}).catch(()=>{n(404,{},'')}):l.test(r)?p.getWidgetServiceResource(r).then((a)=>{n(200,{},a)}).catch(()=>{n(404,{},'')}):m.test(r)&&q.getTraceRoute(o,(a,b)=>{a?n(500,{},JSON.stringify(a.message)):n(200,{},JSON.stringify(b))})}}}(require('lazyload'),require);