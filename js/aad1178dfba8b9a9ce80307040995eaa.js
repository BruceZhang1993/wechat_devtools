'use strict';!function(require,directRequire){function a(a){return new Promise(async(b,c)=>{let d=k.srcPath,e=k.getAllWXMLFiles(),i=!1;const m=k.getAllWXSFiles();m&&0<m.length&&(e=e.concat(m),i=!0,h('wxs_compile',a.appid)),e=e.map((a)=>{return`./${a}`});let n=['-d'].concat(e),o=f(j,n,{cwd:d}),p=[],q=[];o.on('close',(d)=>{if(0===d)return l=Buffer.concat(p).toString(),b(l);i&&h('wxs_compile_fail',a.appid);let e=Buffer.concat(q).toString(),f=new Error(`编译 .wxml 文件错误， 错误信息如上，可在控制台查看更详细信息`);return f.code=g,f.msgForConsole=e,c(f)}),o.stdout.on('data',(a)=>{p.push(a)}),o.stderr.on('data',(a)=>{q.push(a)})})}function b(a,b){let c=d.extname(b);('.wxml'===c||'.wxs'===c)&&(l='')}async function c(a){let c=await i(a);k&&k.srcPath==c.srcPath||(l='',k&&k.unWatch(b),k=c,k.watch(b))}const d=require('path'),e=require('./d28a711224425b00101635efe1034c99.js'),{spawn:f}=require('child_process'),{TRANS_WXML_JS_ERR:g}=require('./949d8235c744ced2a80121e4dba34c28.js'),h=require('./da7c31daaf542cf1796023d8e344b98a.js'),i=require('./162bf2ee28b76d3b3d95b685cede4146.js'),j=e.getWXMLParsePath();var k,l='';module.exports=function(b,d={}){return new Promise(async(d,e)=>{if(await c(b),!l)try{l=await a(b)}catch(a){return e(a)}return d(l)})}}(require('lazyload'),require);