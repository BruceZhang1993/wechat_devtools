'use strict';!function(require,directRequire){function a(a,b){let c=0===b.indexOf('http');if(c)a.src=b;else{let c=g.getRealPath(b),d=e.readFileSync(c,'utf8');if(a.src=d,-1!==b.indexOf('durationTime=')){let c=path.extname(b),d=b.replace(/.*durationTime=/,'').replace(c,'');d&&(a._duration=d/1e3)}}}function b(a){h.triggerOnEvent({eventName:'onAudioStateChange',data:a})}function c(a){let c=a?a.buffered:'';if(c){let d=a.currentTime;for(let a,b=0,e=c.length;b<e;b++)if(a=c,c.start(b)<=d&&c.end(b)>=d)return c.end(b)}return 0}function d(a){let c=j[a];c.initStateChage||(c.initStateChage=!0,c.addEventListener('error',(c)=>{let d=c.currentTarget.error.code,e={audioId:a,state:'error',errMsg:'MediaError',errCode:1e4+parseInt(d)};b(e)}),c.addEventListener('pause',()=>{let d=c._isStop?'stop':'pause';c._isStop=!1;b({audioId:a,state:d})}),i.forEach((d)=>{c.addEventListener(d,()=>{b({audioId:a,state:d})})}))}const e=require('fs'),f=require('./0634ee2ebd3e560d9d4804ecc960160f.js'),g=require('./c6f15ef7a40988103528a2ff766b2425.js'),h=require('./a1dd553cc059d528bb0ef56afed53968.js'),i=['play','canplay','ended','stop','waiting','seeking','seeked'];var j={};module.exports={createAudioInstance:async function(a,b){let c=`${Date.now()}${Math.random()}`,d=document.createElement('audio');return j[c]=d,{errMsg:`${b.api}:ok`,audioId:c}},setAudioState:async function(b,c){let e=c.args,{audioId:f,src:g,startTime:h}=e,i=j[f];return a(i,g),h&&i.addEventListener('canplay',()=>{i.currentTime=h}),i.startTime=h||0,d(f),i.play(),{errMsg:`${c.api}:ok`}},getAudioState:async function(a,b){let d=b.args,e=d.audioId,f=j[e],{duration:g,currentTime:h,paused:i,src:k,startTime:l}=f,m=c(f);return g===Infinity&&f._duration&&(g=f._duration),{errMsg:`${b.api}:ok`,duration:g,currentTime:h,paused:i,src:k,startTime:l,buffered:m}},operateAudio:async function(a,b){let c=b.args,{operationType:d,audioId:e,currentTime:f}=c,g=j[e];return'play'===d?g.play():'pause'===d?g.pause():'stop'===d?(g._isStop=!0,g.pause(),g.currentTime=0):'seek'===d&&(g.currentTime=f),{errMsg:`${b.api}:ok`}}}}(require('lazyload'),require);